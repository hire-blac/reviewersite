<div class="row my-4">
  <div class="border bg-white p-2">

    <div class="border-bottom p-1">
      {% load my_filters %}
      {% for i in review.rating|stars %}
        <i class="bi bi-star-fill text-warning"></i>
      {% endfor %}
    </div>

    <div class="p-2 pb-0">
      <small >
        <p>
          <a class="text-decoration-none" href="">{{review.user}}</a> reviewed 
          <a class="text-decoration-none" href="/products/{{review.product.id}}">{{review.product}}</a>
        </p>
      </small>
    </div>
  
    <p class="px-2 review-body">
      <a class="text-dark text-decoration-none" href="/reviews/{{review.id}}">{{review}}</a>
    </p>
    <div class="vote border-top pt-2">
      
      <form class="d-inline-block" action="{% url 'upvote' %}" method="POST">
        {% csrf_token %}
        <input type="hidden" name="review_id" value="{{review.id}}">
        <small>
          {% if user not in review.upvotes.all %}
          <button class="border-0 bg-transparent">
            <i class="bi bi-arrow-up-circle text-primary"> upvote</i>
          </button>
          {% else %}
          <button class="border-0 bg-transparent">
            <i class="bi bi-x-circle text-info"> un-vote</i>
          </button>
          {% endif %}
        </small>
      </form>
      
      <form class="d-inline-block" action="{% url 'downvote' %}" method="POST">
        {% csrf_token %}
        <input type="hidden" name="review_id" value="{{review.id}}">
        <small>
          {% if user not in review.downvotes.all %}
          <button class="border-0 bg-transparent">
            <i class="bi bi-arrow-down-circle text-danger"> downvote</i>
          </button>
          {% else %}
            <button class="border-0 bg-transparent">
              <i class="bi bi-x-circle text-warning"> un-vote</i>
            </button>
          {% endif %}
        </small>
      </form>
  
      <div class="vote-count px-2">
        <small>
          <strong class="me-3">{{review.num_upvotes}} upvotes</strong>
          <strong class="me-3">{{review.num_downvotes}} downvotes</strong>
        </small>
      </div>

    </div>
  </div>
</div>